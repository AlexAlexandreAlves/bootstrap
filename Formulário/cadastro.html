<html>
<!doctype html>
<html lang="pt-br">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">


</head>

<body style="background-color: rgb(65, 143, 180)">
    <title>Cadastro</title>

    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand" href="sobre.html">Sobre</a>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bug"
                    viewBox="0 0 16 16">
                    <path
                        d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z" />
                </svg>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">

                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">BUG</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Link</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                Mais
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="#">Produto</a></li>
                                <li><a class="dropdown-item" href="#">Contato</a></li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li><a class="dropdown-item" href="#">Faça Parte do Time</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled">Desabilitado</a>
                        </li>
                    </ul>
                    <form class="d-flex">
                        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </nav>
    </header>

    <div class="container">
        <h1 style="color: rgb(248, 248, 248)">Cadastro Principal</h1>

        <form action="">
            <div class="form-group col-sm-4">
                <label for="nome">Nome:</label>
                <input type="text" class="form-control" id="nome" name="nome"></input>
            </div>
            <div class="form-group col-sm-4">
                <label for="idade">Idade:</label>
                <input type="number" class="form-control" id="idade" name="idade"></input>
            </div>
            <div class="form-group col-sm-4">
                <label for="genero">Gênero:</label>
                <select class="form-control" name="genero" id="genero">
                    <option value="Masculino">Masculino</option>
                    <option value="Feminino">Feminino</option>
                    <option value="outros" selected>Outros</option>
                </select>
            </div>

            <div class="form-check mt-3">
                <input type="checkbox" class="form-check-input " id="ativo" value="Ativo">
                <label for="ativo" class="form-check-label ">Usuário Ativo</label>
            </div>
            <div class="mt-3">
                <button type="button" id="btCadastrar" class="btn btn-success"
                    onclick="formCadastro();">Cadastrar</button>
            </div>
            <div class="mt-3">
                <button type="button" id="btEditar" style="display: none" ; class="btn btn-warning"
                    onclick="formEditar();">Alterar</button>
            </div>


        </form>
    </div>
    <div class="container">
        <table style="color: white" class="table" id="tbLista">
            <caption>Lista de Usuários</caption>
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Idade</th>
                    <th>Gênero</th>
                    <th>Ativo</th>
                    <th>Editar</th>
                    <th>Excluir</th>

                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>


    </div>

    <script>
        function formCadastro() {

            let nome = document.getElementById('nome');
            let idade = document.getElementById('idade');
            let genero = document.getElementById('genero');
            let ativo = document.getElementById('ativo');

            if (nome.value != '' && idade.value != '') {
                let tabela = document.getElementById('tbLista');
                let linha = tabela.insertRow();

                let cel0 = linha.insertCell(0);
                let cel1 = linha.insertCell(1);
                let cel2 = linha.insertCell(2);
                let cel3 = linha.insertCell(3);
                let cel4 = linha.insertCell(4);
                let cel5 = linha.insertCell(5);


                cel0.innerHTML = nome.value;
                cel1.innerHTML = idade.value;
                cel2.innerHTML = genero.value;
                if (ativo.checked)
                    cel3.innerHTML = ativo.value;
                else
                    cel3.innerHTML = "-";
                cel4.innerHTML = "<button class = 'btn btn-warning' value = 'Editar' onClick = 'formAlterar(this)'>Editar</button>"
                cel5.innerHTML = "<button class = 'btn btn-danger' value = 'Excluir' onClick = 'formExcluir(this)'>Excluir</button>"

                limparCampos();
            }
        }

        var arrayChild = '';
        function formAlterar(obj) {
            arrayChild = obj.parentNode.parentNode.childNodes;

            let nome = document.getElementById('nome');
            let idade = document.getElementById('idade');
            let genero = document.getElementById('genero');
            let ativo = document.getElementById('ativo');

            nome.value = arrayChild[0].innerText;
            idade.value = arrayChild[1].innerText;
            genero.value = arrayChild[2].innerText;

            if (arrayChild[3].innerText != '-')
                ativo.checked = true;
            else
                ativo.checked = false;

            let btCadastrar = document.getElementById('btCadastrar').style.display = 'none';
            let btEditar = document.getElementById('btEditar').style.display = 'block';
        }

        function formEditar(){

            let nome = document.getElementById('nome');
            let idade = document.getElementById('idade');
            let genero = document.getElementById('genero');
            let ativo = document.getElementById('ativo');

            arrayChild[0].innerText = nome.value;
            arrayChild[1].innerText = idade.value;
            arrayChild[2].innerText = genero.value;

            if(ativo.checked)
            arrayChild[3].innerText = ativo.value;
            else 
            arrayChild[3].innerText = '-';

            let btCadastrar = document.getElementById('btCadastrar').style.display = 'block';
            let btEditar = document.getElementById('btEditar').style.display = 'none';

            limparCampos();
        }



        function formExcluir(obj) {

            let confirma = confirm('Deseja Excluir?')
            if
                (confirma)
                obj.parentNode.parentNode.remove();

        }

        function limparCampos() {
            let nome = document.getElementById('nome');
            let idade = document.getElementById('idade');
            let genero = document.getElementById('genero');
            let ativo = document.getElementById('ativo');

            nome.value = "";
            idade.value = "";
            genero.value = "Outros";
            ativo.checked = false;

        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>
</body>

</html>